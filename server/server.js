////////////////////////////////////////////////////////////////////////////////
//                                SETUP CODE                                  //
////////////////////////////////////////////////////////////////////////////////
var express = require("express");
var app = express();
var bodyParser = require("body-parser"); 
var jwt = require("jsonwebtoken");
var crypto = require("crypto");

var config = require("./config");

var port = config.port;
app.set("authKey", config.key);
app.use(bodyParser.urlencoded({extended: true}));

////////////////////////////////////////////////////////////////////////////////
//                                   ROUTES                                   //
////////////////////////////////////////////////////////////////////////////////
app.get("/", function(req, res){
    console.log("GET /");
    res.json({
        "success": true,
        "message": "server is running"
    });
});

////////////////////////////////////////////////////////////////////////////////
//                                SERVER START                                //
////////////////////////////////////////////////////////////////////////////////
app.listen(port, function(){
    console.log("dmtool server started on port " + port );
});

////////////////////////////////////////////////////////////////////////////////
//                            HELPERS AND MIDDLEWARE                          //
////////////////////////////////////////////////////////////////////////////////